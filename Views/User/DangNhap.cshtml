@model PhamVanTung.SachOnline.Models.ViewModels.DangNhapVM
@{
    ViewBag.Title = "Dang nhap";
    Layout = "~/Views/Shared/PhamVanTung.Layout.cshtml";
    Model.ReturnUrl = Model.ReturnUrl ?? (ViewBag.ReturnUrl as string) ?? Url.Action("Index", "PhamVanTungSachOnline");
}

<h2>Dang nhap</h2>

@if (TempData["LoginSuccess"] != null)
{
    <div class="alert alert-success">@TempData["LoginSuccess"]</div>
    <script>
        setTimeout(function () {
            window.location.href = '@Url.Action("Index","PhamVanTungSachOnline")';
        }, 1500);
    </script>
}

@if (TempData["ThongBao"] != null)
{
    <div class="alert alert-info">@TempData["ThongBao"]</div>
}

@using (Html.BeginForm("DangNhap", "User", FormMethod.Post, new { @class = "form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.ReturnUrl)
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group">
        @Html.LabelFor(m => m.TaiKhoan, "Tai khoan / Email")
        @Html.TextBoxFor(m => m.TaiKhoan, new { @class = "form-control", placeholder = "Nhap tai khoan hoac email", autocomplete = "username" })
        @Html.ValidationMessageFor(m => m.TaiKhoan, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.MatKhau, "Mat khau")
        <input type="password"
               id="MatKhau"
               name="MatKhau"
               class="form-control"
               placeholder="Mat khau"
               autocomplete="current-password"
               value="@(Model.MatKhau ?? string.Empty)" />
        @Html.ValidationMessageFor(m => m.MatKhau, "", new { @class = "text-danger" })
    </div>

    <div class="checkbox">
        <label>@Html.CheckBoxFor(m => m.RememberMe) Nho dang nhap</label>
    </div>

    <button type="submit" class="btn btn-primary">Dang nhap</button>
}
